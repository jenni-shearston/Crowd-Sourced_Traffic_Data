<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
<title>Traffic Layer</title>
<style type="text/css">
  #map { height: 100%;          }
  html, body { margin: 0;
               padding: 0;      }
</style>
<script type="text/javascript">
const HeadParam = new URLSearchParams(document.location.search);
const n = HeadParam.get("n");
console.log(n);
var stylesheet = document.styleSheets[0];
stylesheet.cssRules[0].style.height=n+"px";
stylesheet.cssRules[0].style.width=n+"px";
</script>
</head>
 
<body>
<div id="map"></div>
<script>
function initMap()
{ const params = new URLSearchParams(document.location.search);
  const Lat = params.get("lat");
  const Long = params.get("long");
  const Zoom = params.get("z");
  var map = new google.maps.Map(document.getElementById('map'),
       { zoom: parseFloat(Zoom),
         center: {lat: parseFloat(Lat), lng: parseFloat(Long)},
         disableDefaultUI: true
       });
  var trafficLayer = new google.maps.TrafficLayer();
  trafficLayer.setMap(map);
}
</script>
    
<script src="https://maps.googleapis.com/maps/api/js?key=API_userkey&callback=initMap"> 
</script>
 
</body>
</html>
